"use strict";(globalThis.webpackChunkadmin=globalThis.webpackChunkadmin||[]).push([[306],{624:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var i=n(2791);const a="Style_Modify__BXgTg";var l=n(5840),s=n(184);function o(e){return(0,s.jsx)("div",{className:a,children:(0,s.jsx)(l.Z,{...e})})}const r=i.memo(o);var c=n(3504),u=n(6871),g=n(6064),d=n(3085),f=n(3424),h=n(7917),m=n(3731);function y(){const[e,t]=(0,i.useState)(0),[n,a]=(0,i.useState)(""),[l,o]=(0,i.useState)(""),[y,C]=(0,i.useState)(void 0),[S,b]=(0,i.useState)(!0),[v,A]=(0,i.useState)([]),[w,p]=(0,i.useState)(!1),[k,P]=(0,i.useState)(!1),[M,N]=(0,i.useState)(!1),[T,Z]=(0,i.useState)(!1),[V,x]=(0,i.useState)(""),[B]=(0,c.lr)(),D=(0,u.s0)();(0,i.useEffect)((()=>{const e=B.get("id");if(null===e)g.ZP.warning("\u53c2\u6570\u4e0d\u6b63\u786e");else{const n=Number.parseInt(e);Number.isNaN(n)?g.ZP.warning("\u53c2\u6570\u4e0d\u6b63\u786e"):(t(n),P(!0),f.l.d2.getById(n).then((e=>{if(null!==e){const{title:t,content:n,category:i,isVisible:l}=e;a(t),o(n),C(i),b(l)}})).finally((()=>P(!1))))}}),[B]),(0,i.useEffect)((()=>{p(!0),f.l.WD.getAll().then((e=>{null!==e&&A(e)})).finally((()=>p(!1)))}),[]);const E=e=>{e.preventDefault(),Z(!1)},I=E;return(0,s.jsx)(r,{title:n,content:l,category:y,categoryOption:v,isLoadingCategory:w,isLoadingArticle:k,isSubmittingArticle:M,HTMLContent:V,isVisible:S,onArticlePreviewButtonClick:e=>{e.preventDefault(),x(h.R.makeHtml(l)),Z(!0)},onArticlePreviewModalOk:E,onArticlePreviewModalCancel:I,isArticlePreviewModalVisible:T,onSubmitButtonClick:async t=>{if(t.preventDefault(),"undefined"===typeof y)g.ZP.warning("\u8bf7\u9009\u62e9\u6587\u7ae0\u5206\u7c7b");else if(0===n.length)g.ZP.warning("\u8bf7\u586b\u5199\u6587\u7ae0\u6807\u9898");else if(0===l.length)g.ZP.warning("\u8bf7\u586b\u5199\u6587\u7ae0\u5185\u5bb9");else{N(!0);const t=await f.l.d2.modify({id:e,title:n,content:l,category:y,isVisible:S});N(!1),null!==t&&(d.Z.success({message:"\u6587\u7ae0\u4fee\u6539\u6210\u529f"}),D(m.yt[m.DV.MANAGE.BLOG.ARTICLE.MANAGE],{replace:!0}))}},onIsVisibleCheckboxChange:e=>{b(e.target.checked)},onCategorySelectorChange:e=>{C(e)},onContentTextAreaChange:e=>{o(e.target.value)},onTitleInputChange:e=>{a(e.target.value)}})}const C=i.memo(y)}}]);
//# sourceMappingURL=306.f361c210.chunk.js.map